<head>
  <title>Palette Editor</title>
  <link rel="icon" type="image/x-icon" href="./favicon.ico" />
  <link rel="stylesheet" type="text/css" href="./style.css">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;900&display=swap" rel="stylesheet">
  <script src="./app.js"></script>
</head>
<body>
  <h1>Palette Editor</h1>
  <p>Keybinds and Usage are at the bottom of the page.</p>
  <div class="picker">
    <div class="eyedrop-container">
      <div class="eyedrop">
        <div class="instructions">
          <ol>
            <li>Paste an image from your clipboard.</li>
            <li>Hover over the colors to preview.</li>
            <li>Click on color to add to palette.</li>
            <li>Click, drag, and scroll to add multiple.</li>
            <li>Right click mid-drag for grid selection.</li>
          </ol>
        </div>
        <canvas id="selector"></canvas>
        <canvas id="overlay"></canvas>
        <div id="dropper"></div>
      </div>
    </div>
  </div>
  <h1>Palette</h1>
  <input type="color" id="colorPicker" value="#ffffff">
  <div id="palette"></div>
  <div class="preview">
    <!-- parrot color test image, you can hover over this to see the original -->
    <canvas id="testImg"></canvas>
    <img id="parrot" crossorigin="anonymous" src="https://i.imgur.com/zvWTirj.png">
  </div>
  <div class="info" id="noinfo">
    <a id="download" style="display: none"></a>
    <h1>Info</h1>
    <div class="info-container">
      <div class="info-split">
        <h2>Usage</h2>
        <ul>
          <li>Click + buttons to <b>add groups/colors</b> to the palette.</li>
          <li>Click the group stub or a color to <b>select a color</b>.</li>
          <li>Clicking on the color selector image will <b>modify the selected color</b> or <b>add a new color</b> to the group.</li>
          <li>Left click, drag, and scroll on the color selector image to <b>add multiple colors</b>.</li>
          <li>Right click while dragging to toggle between <b>2d grid of colors</b> selection.</li>
          <li>Selected groups/colors can be <b>re-arranged</b> with the below keybinds.</li>
          <li>Paste or drag an image to <b>upload to the color selector</b>.</li>
          <li>Paste or drag a <b>Brickadia preset</b> (.bp) in to replace the palette.</li>
          <li>Paste or drag a <b>Blockland colorset</b> (colorSet.txt) in to replace the palette.</li>
          <li>Paste or drag a <b>PAL file</b> (.pal) in to replace the palette.</li>
          <li><u>Brickadia will not load any palettes larger than 16x16</u>.</li>
          <li>Click <a href="#noinfo">here</a> to hide info.</li>
        </ul>
      </div>
      <div class="info-split">
        <h2>Keybinds</h2>
        <table class="keybinds">
          <thead><tr><th>Key</th><th>Description</th></tr></thead>
          <tbody>
            <tr><td>Ctrl+Z</td><td><b>Undo</b></td></tr>
            <tr><td>Ctrl+Shift+Z</td><td><b>Redo</b></td></tr>
            <tr><td>Ctrl+Shift+S</td><td><b>Download</b> as Brickadia preset</td></tr>
            <tr><td>Enter, Shift+E</td><td>Next group, new if last group/no other groups</td></tr>
            <tr><td>Space</td><td><b>Unselect</b> selected</td></tr>
            <tr><td>R</td><td><b>Rename</b> selected group</td></tr>
            <tr><td>Shift+R</td><td>Change palette <b>description</b></td></tr>
            <tr><td>C</td><td>Show <b>color picker</b> for selected color</td></tr>
            <tr><td>E</td><td>Insert <b>new color</b> after selected color</td></tr>
            <tr><td>W/S</td><td><b>Move selector</b> up/down in group</td></tr>
            <tr><td>A/D</td><td><b>Move selector</b> left/Right among groups</td></tr>
            <tr><td>Shift+W/S</td><td><b>Swap color</b> up/down in group</td></tr>
            <tr><td>Shift+A/D</td><td><b>Swap color</b> to group left/right or move group</td></tr>
            <tr><td>Ctrl+A/D</td><td><b>Move color</b> to group left/right</td></tr>
            <tr><td>Delete, Shift+X</td><td><b>Remove color</b>, will remove group if group is empty</td></tr>
            <tr><td>Ctrl+Shift+Delete</td><td><b>Reset</b> palette</td></tr>
          </tbody>
        </table>
      </div>
    </div>
    <div style="padding-left: 14px;">
      <h2>Example images (Click to demo)</h2>
      <div class="images">
        <img src="https://i.imgur.com/qzF7dNY.png" crossorigin="anonymous">
        <img src="https://i.imgur.com/wdUUC5I.png" crossorigin="anonymous">
      </div>
    </div>
  </div>
</body>
</html>
